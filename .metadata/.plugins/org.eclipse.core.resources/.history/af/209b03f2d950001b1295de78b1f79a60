package com.ordereat.OrderEat.Controller;

import java.util.ArrayList;
import java.util.Collection;
import java.util.List;
import java.util.Optional;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.PutMapping;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

import com.ordereat.OrderEat.Entity.ResponseEntityClass;
import com.ordereat.OrderEat.Entity.RestaurantDetails;
import com.ordereat.OrderEat.Entity.RestaurantOwner;
import com.ordereat.OrderEat.Repository.RestaurantDetailsRepository;
import com.ordereat.OrderEat.Repository.RestaurantOwnerRepository;
import com.ordereat.OrderEat.Repository.restaurantDetailsRespository;

@RestController
@RequestMapping("/roe/restaurant")
public class RestaurantOwnerDetailsController {

	@Autowired
	RestaurantDetailsRepository restaurantDetailsRespository;
	
	@Autowired
	RestaurantOwnerRepository restaurantOwnerRepository;
	
	enum STATUS{
		SUCCESS("success"), FAILURE("failure");
		
		public final String status;
		
		private STATUS(String status) {
			this.status = status;
		}
	}
	
	@GetMapping("/getrestaurantusers")
	public ResponseEntity<ResponseEntityClass> getRestaurantOwnersList(){
		
		List<RestaurantOwner> restaurantOwnersList = (List<RestaurantOwner>) restaurantOwnerRepository.findAll();
		ResponseEntityClass response = new ResponseEntityClass(STATUS.SUCCESS.toString(), restaurantOwnersList, "");
		return new ResponseEntity<ResponseEntityClass>(response,HttpStatus.OK);
	}
	
	@GetMapping("/getrestaurantuser/{id}")
	public ResponseEntity<ResponseEntityClass> getRestaurantOwner(@PathVariable("id") Long id) {
		RestaurantOwner owner = restaurantOwnerRepository.findRestaurantOwnerById(id);
		if(owner == null) {
			ResponseEntityClass response = new ResponseEntityClass(STATUS.FAILURE.toString(), new ArrayList(), "");
			return new ResponseEntity<ResponseEntityClass>(response,HttpStatus.NOT_FOUND);
		}else {
			return ResponseEntity.ok()
		}
	}
	
	@GetMapping("/getRestaurants")
	public ResponseEntity<ResponseEntityClass> getRestaurantList(){
		List<RestaurantDetails> restaurantOwnersList = (List<RestaurantDetails>) restaurantDetailsRespository.findAll();
		ResponseEntityClass response = new ResponseEntityClass(STATUS.SUCCESS.toString(), restaurantOwnersList, "");
		return new ResponseEntity<ResponseEntityClass>(response,HttpStatus.OK);
	}
	
	@GetMapping("/getRestaurant/{id}")
	public Optional<RestaurantOwner> getRestaurant(@PathVariable("id") Long id) {
		return restaurantDetailsRespository.findById(id);
	}
	
	/*
	 * @PutMapping("/updaterestaurantuser") public
	 * updateRestaurantOwner(@RequestBody RestaurantOwner restaurantOwner) { Long id
	 * = restaurantOwner.getId(); if(restaurantDetailsRespository.findById(id)) {
	 * restaurantDetailsRespository.save(entity); } }
	 */
}
